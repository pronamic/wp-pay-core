jQuery(document).ready((function(e){const n=e(".pronamic-pay-debug-progress-count-scheduled"),a=e(".pronamic-pay-debug-progress-count-total"),t=e("#pronamic-pay-debug-scheduler-start"),u=e(".pronamic-pay-debug__bar"),r=e(".pronamic-pay-debug__bar__status");let d,l,o=!1;const c=function(e){e.setRequestHeader("X-WP-Nonce",pronamicPayAdminDebugScheduler.nonce)};e.ajax({url:pronamicPayAdminDebugScheduler.count_url,method:"GET",beforeSend:c}).done((function(e){let{count:n,num_pages:u}=e.data;"undefined"!==n&&(a.html(n),n>0&&t.removeAttr("disabled"),u&&(l=u))}));const i=function(l){d=l,o||e.ajax({url:l,method:"GET",beforeSend:c}).done((function(d){let{number_scheduled:l}=d.data,{_links:o}=d;if(l){let e=parseInt(n.html(),10)+l;n.html(e);let t=parseInt(a.html(),10),d=Math.ceil(e/t*100);u.css("width",d+"%"),r.html(d+" %")}o.next&&i(o.next[0].href),!o.next&&o.scheduler&&(t.hide(),e("#pronamic-pay-debug-scheduler-pending").attr("href",o.scheduler[0].href).show())}))};t.on("click",(function(){return u.hasClass("wp-ui-highlight")?o?o?(o=!1,t.html(pronamicPayAdminDebugScheduler.labelPause),void i(d)):void 0:(o=!0,void t.html(pronamicPayAdminDebugScheduler.labelResume)):(u.addClass("wp-ui-highlight"),t.html(pronamicPayAdminDebugScheduler.labelPause),t.removeClass("button-primary"),void i(pronamicPayAdminDebugScheduler.schedule_url+"?page="+l))}))}));