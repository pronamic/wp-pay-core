jQuery(document).ready((function(e){const n=e(".pronamic-pay-debug-progress-count-scheduled"),a=e(".pronamic-pay-debug-progress-count-total"),r=e("#pronamic-pay-debug-scheduler-start"),u=e(".pronamic-pay-debug__bar"),d=e(".pronamic-pay-debug__bar__status");let t,o=!1;const i=function(e){e.setRequestHeader("X-WP-Nonce",pronamicPayAdminDebugScheduler.nonce)};e.ajax({url:pronamicPayAdminDebugScheduler.count_url,method:"GET",beforeSend:i}).done((function(e){let{count:n}=e.data;"undefined"!==n&&(a.html(n),n>0&&r.removeAttr("disabled"))}));const c=function(l){t=l,o||e.ajax({url:l,method:"GET",beforeSend:i}).done((function(t){let{number_scheduled:o}=t.data,{_links:i}=t;if(o){n.html(o);let t=parseInt(a.html(),10),c=Math.ceil(o/t*100);if(u.css("width",c+"%"),d.html(c+" %"),o>=t&&i.scheduler)return r.hide(),void e("#pronamic-pay-debug-scheduler-pending").attr("href",i.scheduler[0].href).show()}i.next&&c(i.next[0].href)}))};r.on("click",(function(){return u.hasClass("wp-ui-highlight")?o?o?(o=!1,r.html(pronamicPayAdminDebugScheduler.labelPause),void c(t)):void 0:(o=!0,void r.html(pronamicPayAdminDebugScheduler.labelResume)):(u.addClass("wp-ui-highlight"),r.html(pronamicPayAdminDebugScheduler.labelPause),r.removeClass("button-primary"),void c(pronamicPayAdminDebugScheduler.schedule_url))}))}));